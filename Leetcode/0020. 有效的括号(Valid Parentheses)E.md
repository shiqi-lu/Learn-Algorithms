
# è‹±æ–‡é¢˜ç›®

- Given a string s containing just the characters '(', ')', '{', '}', '[' and ']', determine if the input string is valid.

- An input string is valid if:

- Open brackets must be closed by the same type of brackets.

- Open brackets must be closed in the correct order.

- Example 1:

- ```plain text
  Input: s = "()"
  Output: true
  ```


- Example 2:

- ```plain text
  Input: s = "()[]{}"
  Output: true
  ```


- Example 3:

- ```plain text
  Input: s = "(]"
  Output: false
  ```


- Example 4:

- ```plain text
  Input: s = "([)]"
  Output: false
  ```


- Example 5:

- ```plain text
  Input: s = "{[]}"
  Output: true
  ```


- Constraints:

- 1 <= s.length <= 10^4

- s consists of parentheses only '()[]{}'.

# ä¸­æ–‡é¢˜ç›®

- ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']'Â çš„å­—ç¬¦ä¸² s ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚

- æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š

- å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚

- å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚

- ç¤ºä¾‹ 1ï¼š

- ```plain text
  è¾“å…¥ï¼šs = "()"
  è¾“å‡ºï¼štrue
  ```


- ç¤ºä¾‹Â 2ï¼š

- ```plain text
  è¾“å…¥ï¼šs = "()[]{}"
  è¾“å‡ºï¼štrue
  ```


- ç¤ºä¾‹Â 3ï¼š

- ```plain text
  è¾“å…¥ï¼šs = "(]"
  è¾“å‡ºï¼šfalse
  ```


- ç¤ºä¾‹Â 4ï¼š

- ```plain text
  è¾“å…¥ï¼šs = "([)]"
  è¾“å‡ºï¼šfalse
  ```


- ç¤ºä¾‹Â 5ï¼š

- ```plain text
  è¾“å…¥ï¼šs = "{[]}"
  è¾“å‡ºï¼štrue
  ```


- æç¤ºï¼š

- 1 <= s.length <= 10^4

- s ä»…ç”±æ‹¬å· '()[]{}' ç»„æˆ

# ğŸ’¯ğŸ20. æœ‰æ•ˆçš„æ‹¬å·(Valid Parentheses)Eï¼šç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']'Â çš„å­—ç¬¦ä¸² s ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆï¼Œæ ˆ

- æ ˆå†…å­˜å‚¨çš„éƒ½æ˜¯å·¦è¾¹çš„æ‹¬å·ï¼Œéå†å­—ç¬¦ä¸²ï¼Œé‡åˆ°å·¦è¾¹çš„æ‹¬å·å­˜æ”¾åœ¨æ ˆå†…ï¼Œé‡åˆ°å³è¾¹çš„æ‹¬å·æ—¶ï¼Œæ ˆä¸èƒ½ä¸ºç©ºï¼Œå¹¶å–å‡ºæ ˆé¡¶å…ƒç´ å¯¹åº”çš„å³æ‹¬å·ï¼Œåˆ¤æ–­å’Œå½“å‰å­—ç¬¦æ˜¯å¦ç›¸ç­‰

- é¢„å…ˆæŠŠå¯¹åº”åŒ¹é…çš„æ‹¬å·å¯¹è®°å½•ä¸‹æ¥ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘ç¡¬ç¼–ç å’Œifåˆ†æ”¯

- æ—¶é—´å¤æ‚åº¦O(n)ï¼Œn æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç©ºé—´å¤æ‚åº¦$O(n+|\Sigma|)$ï¼Œå…¶ä¸­$\Sigma$è¡¨ç¤ºå­—ç¬¦é›†ï¼Œæœ¬é¢˜ä¸­åªåŒ…å« 6 ç§æ‹¬å·

- ```python
  # python: æ—¶é—´ 32 ms, å‡»è´¥ 95.96%; å†…å­˜ 14.8 MB, å‡»è´¥ 78.40%
  class Solution:
      def isValid(self, s: str) -> bool:
          if len(s) % 2 == 1:
              return False
          pair = {'(':')', '{':'}', '[':']'}
          stack = []
          for c in s:
              if c in pair:
                  stack.append(c)
              else:
                  # æ³¨æ„æœ‰æ ˆæ˜¯ç©ºä»¥åŠä¸åŒ¹é…ä¸¤ç§æƒ…å†µ
                  if not stack or c != pair[stack.pop()]:
                      return False
          return True if not stack else False
  ```


- ```c++
  // c++: æ—¶é—´ 0 ms, å‡»è´¥ 100%; å†…å­˜ 6.2 MB, å‡»è´¥ 33.79%
  class Solution {
  public:
      bool isValid(string s) {
          if (s.size() % 2 == 1) {
              return false;
          }
          // map çš„å†™æ³•æ³¨æ„ä¸‹
          unordered_map<char, char> pair {
              {'(', ')'}, 
              {'[', ']'}, 
              {'{', '}'}
          };
          stack<char> st;
          for (const char c: s) {
              // æ­¤å¤„ä¹Ÿå¯ if (pairs.count(c) == 1) æ›¿ä»£
              // count çš„ä½œç”¨æ˜¯åœ¨mapä¸­æ‰¾åˆ°keyçš„æ•°é‡ï¼Œè¿”å›è¦ä¹ˆæ˜¯ 1 è¦ä¹ˆæ˜¯ 0
              if (pair.find(c) != pair.end()) {
                  st.push(c);
              } else {
                  // æ³¨æ„æ ˆå–æ ˆé¡¶å’Œå¼¹å‡ºçš„è¯­æ³•
                  if (st.empty() || c != pair[st.top()]) {
                      return false;
                  }
                  st.pop();
              }
          }
          return st.empty() ? true : false;
      }
  };
  ```


- ```java
  // java: æ—¶é—´ 2 ms, å‡»è´¥ 49.66%; å†…å­˜ 39.7 MB, å‡»è´¥ 29.54%
  class Solution {
      public boolean isValid(String s) {
          if (s.length() % 2 == 1) {
              return false;
          }
          Map<Character, Character> pair = new HashMap<>() {{
              put('(', ')');
              put('[', ']');
              put('{', '}');
          }};
          Deque<Character> stack = new LinkedList<>();
          for (int i = 0; i < s.length(); ++i) {
              char c = s.charAt(i);
              if (pair.containsKey(c)) {
                  stack.push(c);
              } else {
                  if (stack.isEmpty() || c != pair.get(stack.peek())) {
                      return false;
                  }
                  stack.pop();
              }
          }
          return stack.isEmpty();
      }
  }
  ```


- ```go
  // go: æ—¶é—´ 4 ms, å‡»è´¥ 14.60%; å†…å­˜ 1.9 MB, å‡»è´¥ 79.90%
  func isValid(s string) bool {
      if len(s) % 2 == 1 {
          return false
      }
      pair := map[byte]byte {
          '(': ')',
          '[': ']',
          '{': '}',
      }
      stack := []byte{}
      for i := 0; i < len(s); i++ {
          c := s[i]
          if _, ok := pair[c]; ok {
              stack = append(stack, c)
          } else {
              if len(stack) == 0 || c != pair[stack[len(stack)-1]] {
                  return false
              }
              stack = stack[:len(stack)-1]
          }
      } 
      return len(stack) == 0
  }
  ```


- ```go
  // go: æ—¶é—´ 0 ms, å‡»è´¥ 100%; å†…å­˜ 1.9 MB, å‡»è´¥ 49.11%
  func isValid(s string) bool {
      if len(s) % 2 == 1 {
          return false
      }
      pair := map[rune]rune {
          '(': ')',
          '[': ']',
          '{': '}',
      }
      stack := []rune{}
      for _, c := range s {
          if _, ok := pair[c]; ok {
              stack = append(stack, c)
          } else {
              if len(stack) == 0 || c != pair[stack[len(stack)-1]] {
                  return false
              }
              stack = stack[:len(stack)-1]
          }
      } 
      return len(stack) == 0
  }
  ```


- ```javascript
  // javascript: æ—¶é—´ 64 ms, å‡»è´¥ 74.50%; å†…å­˜ 41.6 MB, å‡»è´¥ 49.83%
  /**
   * @param {string} s
   * @return {boolean}
   */
  var isValid = function(s) {
      if (s.length % 2 == 1) {
          return false;
      }
      const pair = new Map([
          ['(', ')'],
          ['[', ']'],
          ['{', '}']
      ]);
      const stack = [];
      for (let c of s) {
          if (pair.has(c)) {
              stack.push(c);
          } else {
              if (!stack.length || c != pair.get(stack.pop())) {
                  return false;
              }
          }
      }
      return !stack.length;
  };
  ```


